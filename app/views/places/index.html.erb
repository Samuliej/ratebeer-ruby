
<div class="centered-page-container">
  <h1>Beer places search</h1>

  <%= form_with url: places_path, method: :post do |form| %>
    <div class="mb-3">
      <%= form.label :city, class: "form-label" %>
      <%= form.text_field :city, class: "form-control" %>
    </div>
    <div class="mb-3">
      <%= form.submit "Search", class: "btn btn-primary" %>
    </div>
  <% end %>

  <% if @weather && @weather.temperature.present? %>
    <h3>Weather in <%= @city %></h3>
    <p>Temperature: <%= @weather&.temperature %> Celsius</p>
    <img src="<%= @weather&.weather_icons&.first %>" alt="image showcasing weather">
    <p><%= @weather&.weather_descriptions&.join(", ") %></p>
    <p>Wind: <%= @weather&.wind_speed %>m/s</p>
  <% elsif @places.present? %>
    <p>No weather found in <%= @city %>, check for typos.</p>
  <% end %>

  <% if @places %>
    <h2>Beer places in <%= @city %></h2>
    <div>
      <% @places.each do |place| %>
        <%= render "place", place: place %>
      <% end %>
    </div>
<% end %>
</div>
